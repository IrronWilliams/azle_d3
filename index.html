<!DOCTYPE html>
<html>

<head>
<script src='http://code.jquery.com/jquery-3.3.1.min.js'></script>
<!--<script src='http://worldofdatascience.com/kedion.min.js'></script>-->
    <script src="../Kedion/main.js"></script>
</head>

<body>
</body>
</html>

<script>

load_script('scripts/wrapped_functions.js')

// ******* prepare page ********
load_fonts({
    "font": "Ubuntu"
})

style_body({
    "background": "rgb(85, 85, 85)",
    "font-family": "Ubuntu",
    "min-width": "1300px"
})

add_navigation_bar({
    "this_class": "my_nav"
})

style_navigation_bar('my_nav', 1, {
    "background-color": "rgba(91, 95, 100, 0.95)",
    "border-radius" : "4px",
    "margin-bottom" : "20px",
    "height" : "200px"
})

add_top_button({
    "this_class": "to_top_button",
    "text": "TOP",
    "side": "right"
})

add_layout('my_nav', 1, {
    "this_class": "nav_layout",
    "cell_class": "nav_layout_cells",
    "row_class": "nav_layout_rows",
    "number_of_rows": 1,
    "number_of_columns": 3
})

style_layout('nav_layout', 1, {
    "height": "190px",
    "column_widths": ['33%', '33%', '33%'],
    "border": 0
})

add_image('nav_layout_cells', 2, {
"this_class" : "k_logo",
"image_path" : "img/logo_banner.png"
})
style_image('k_logo', 1, {
"width" : "100%"
})

add_spa({
    "this_class" : "sections",
    "sections" : 3
})

all_style_spa('sections', {
    "background" : "rgba(91, 95, 100, 0.95)",
    "width" : "90%",
    "height" : "auto"
})

// ******* setting up layouts and styling that apply to all sections ********
call_multiple({
"iterations" : $('.sections').length,
"function" : `
	add_layout('sections', index + 1, {
    	"this_class": "sectional_layout",
    	"cell_class": "sectional_layout_cells",
    	"row_class": "sectional_layout_rows",
    	"number_of_rows": 1,
    	"number_of_columns": 2
	})
	all_style_layout('sectional_layout', {
    	"height": "auto",
    	"column_widths": ['20%', '80%'],
    	"border": 1
	})

	add_text('sectional_layout_cells', (index*2) + 1, {
	    "this_class" : "examples_title",
	    "text" : "EXAMPLES"
	})

	add_layout('sectional_layout_cells', (index*2) + 1, {
    	"this_class": "options_layout",
    	"cell_class": "options_layout_cells",
    	"row_class": "options_layout_rows",
    	"number_of_rows": 10,
    	"number_of_columns": 1
	})


`
})

// ******* adding all buttons ********
button_titles = ["bar_color", "text_color", "text_size", "bottom", "top", "left", "right", "fly away animation", "change data", "START OVER"]
call_wrapper_functions = ["bar_color()", "text_color()", "text_size()", "bottom()", "top()", "left()", "right()", "animate_zoomOutUp()", "update_data_full()", "start_over()"]
call_multiple({
	"iterations" : button_titles.length,
	"function" : `
	    add_button('options_layout_cells', index + 1, {
	        'this_class'  : 'option_button', 
	        'text' : button_titles[index]
	    })
	    all_style_button('option_button', {
	        "width" : "90%",
	        "background" : "rgb(16, 168, 180)"
	    })
	    add_event('option_button', index+1, {
	        "type" : "click", 
	        "function" : call_wrapper_functions[index]
	    })
	    add_event('option_button', index+1, {
	        "type" : "click",
	        "function" : "all_style_button('option_button', {'outline' : 0}); style_button('option_button', get_target_instance(this.id), {'outline' : '2px solid yellow'})"
	    })
	    if(index == 9) {
	    style_button('option_button', index+1, {
	        "background" : "rgba(242, 155, 45, 0.97)"
	    })
	    }
`
})

// _all styles
all_style_layout('sectional_layout_cells', {
    "valign" : "top"
})
all_style_layout('options_layout_cells', {
    "halign" : "center"
})
all_style_layout('options_layout', {
    "border" : 1
})
all_style_text('examples_title', {
    "color" : "white",
    "align" : "center",
    "padding" : "10px"
})


// *************************Kedion D3***********************************

barchart_wrapper_args = {
    "data_path" : "../data/bar_data.tsv",
    "y_title" : "AVG RETURN",
    "top_choice" : 30,
    "right_choice" : 30,
    "bottom_choice" : 30,
    "left_choice" : 60,
    "bar_color" : "rgb(48, 229, 255)",
    "title_color" : "white"
}

barchart_extras = {
    "text_color" : "all_style_d3('text', {'fill' : 'white'})",
    "text_size" : "all_style_d3('text', {'font-size' : '17px'})"
}

add_d3_visual('sectional_layout_cells', 2, {
    "this_class" : "my_d3",
    "html_path" : "visuals/barchart.html",
    "wrapper_arguments" : barchart_wrapper_args,
    "extra_functions" : barchart_extras
})

// **********************SECTION 2 **************************************
scatter_wrapper_args = {
    "data_path" : "../data/scatter_data.tsv",
    "top_choice" : 30,
    "right_choice" : 30,
    "bottom_choice" : 30,
    "left_choice" : 60
}

scatter_extras = {
    "text_color" : "all_style_d3('text', {'fill' : 'white'})",
    "text_size" : "all_style_d3('text', {'font-size' : '17px'})"
}


add_d3_visual('sectional_layout_cells', 4, {
    "this_class" : "scatter_chart",
    "html_path" : "visuals/scatter.html",
    "wrapper_arguments" : scatter_wrapper_args,
    "extra_functions" : scatter_extras
})

// **********************SECTION 3 **************************************
add_layout('sectional_layout_cells', 6, {
    "this_class": "dual_viz_layout",
    "cell_class": "dual_viz_layout_cells",
    "row_class": "dual_viz_layout_rows",
    "number_of_rows": 1,
    "number_of_columns": 2
})
style_layout('dual_viz_layout', 1, {
    "table-layout" : "fixed",
    "border" : 1
})
barchart_2_wrapper_args = {
    "data_path" : "../data/bar_data.tsv",
    "y_title" : "AVG RETURN",
    "top_choice" : 30,
    "right_choice" : 510,
    "bottom_choice" : 30,
    "left_choice" : 30,
    "bar_color" : "pink",
    "title_color" : "white",
    "text_color" : "white"
}
barchart_2_extras = {
    "text_color" : `
        all_style_d3('text', {
           "fill" : "white"
        })
        `
}

add_d3_visual('dual_viz_layout_cells', 1, {
    "this_class" : "dual_1",
    "html_path" : "visuals/barchart.html",
    "wrapper_arguments" : barchart_2_wrapper_args
    //"extra_functions" : barchart_2_extras
})


scatter_2_wrapper_args = {
    "data_path" : "../data/scatter_data.tsv",
    "top_choice" : 30,
    "right_choice" : 30,
    "bottom_choice" : 30,
    "left_choice" : 30
}
scatter_2_extras = {

}
add_d3_visual('dual_viz_layout_cells', 2, {
    "this_class" : "dual_2",
    "html_path" : "visuals/scatter.html",
    "wrapper_arguments" : scatter_2_wrapper_args
   // "extra_functions" : scatter_2_extras
})





</script>



